import{_ as S,r as P,o as l,c,a as f,d as w,P as $,i as A,b as M,e as E,t as B,f as o,g as h,h as u,F as v,j as y,n as k,k as V,w as x,l as I,m as N}from"./index.9ea5c488.js";const O={},H={class:"text-center my-5"};function R(e,t){const a=P("router-link");return l(),c("div",H,[f(a,{to:"/",class:"text-reset"})])}var T=S(O,[["render",R]]);const U=(e,t=1,a=10,d=10)=>{const n=Math.ceil(e/a);t<1?t=1:t>n&&(t=n);let r,i;if(n<=d)r=1,i=n;else{const g=Math.floor(d/2),m=Math.ceil(d/2)-1;t<=g?(r=1,i=d):t+m>=n?(r=n-d+1,i=n):(r=t-g,i=t+m)}const _=(t-1)*a,p=Math.min(_+a-1,e-1),s=Array.from(Array(i+1-r).keys()).map(g=>r+g);return{totalItems:e,currentPage:t,pageSize:a,totalPages:n,startPage:r,endPage:i,startIndex:_,endIndex:p,pages:s}};var j={VUE_APP_POSTS_PER_PAGE:5,VUE_APP_MAIN_BG_CSS_COLOR:"white",VUE_APP_MAIN_TEXT_CSS_COLOR:"black"};const{VUE_APP_POSTS_PER_PAGE:G}=j,L=w({components:{PatchMeta:$,BlogHeader:T},props:{section:{type:String,default:""}},setup(e){const t=A("postsIndex",[]),a=M({currentPage:1}),d=E(()=>{const n=e.section?t.filter(({section:b})=>b===e.section):t,{startPage:r,endPage:i,startIndex:_,endIndex:p}=U(n.length,a.currentPage,G),s=a.currentPage-1>=r?a.currentPage-1:0,g=a.currentPage+1<=i?a.currentPage+1:0,m=[s,a.currentPage,g].filter(b=>b>r&&b<i),C=n.slice(_,p+1);return{startPage:r,midPages:m,endPage:i,visiblePosts:C}});return{...B(a),pageStatus:d}}}),F={class:"max-w-5xl mx-auto px-4 sm:px-6 md:px-8"},D={class:"container px-4 mx-auto mt-8"},X={key:0},q={key:1,class:"text-center display-4 text-capitalize my-5"},z={class:"flex w-full items-center justify-between border-b pb-3"},J={class:"flex items-center space-x-3"},K={class:"text-lg font-bold text-slate-700"},Q={class:"flex items-center space-x-8"},W={class:"rounded-2xl border bg-neutral-100 px-3 py-1 text-xs font-semibold"},Y={class:"text-xs text-neutral-500"},Z={class:"mt-6 mb-2"},ee={class:"text-sm text-neutral-600"},te={key:2,class:"flex pl-0 list-none rounded my-2 pagination",style:{cursor:"pointer"}},se={class:"page-link"},oe=["onClick"],ae={class:"page-link"},ne={class:"page-link",href:"#"};function re(e,t,a,d,n,r){const i=P("PatchMeta"),_=P("BlogHeader"),p=P("router-link");return l(),c(v,null,[f(i,{title:e.section?e.section:"Minimal Vue3 + Markdown blog engine"},null,8,["title"]),o("div",F,[o("div",D,[f(_,{class:"mb-5"}),e.section?(l(),c("hr",X)):h("",!0),e.section?(l(),c("p",q,u(e.section),1)):h("",!0),(l(!0),c(v,null,y(e.pageStatus.visiblePosts,s=>(l(),c("div",{key:s.id,class:"rounded-md border p-5 mb-6 shadow-sm w-full bg-white"},[o("div",z,[o("div",J,[o("div",{class:"h-8 w-8 rounded-full bg-slate-400 bg-cover bg-center",style:V({backgroundImage:`url('https://raw.githubusercontent.com/yc21c/vue3-md-blog/master/src/assets/${s.section}-logo.png')`})},null,4),o("div",K,[f(p,{to:`/${s.section}/${s.id}`,class:"text-reset"},{default:x(()=>[I(u(s.title),1)]),_:2},1032,["to"])])]),o("div",Q,[e.section?h("",!0):(l(),N(p,{key:0,to:`/${s.section}`,class:"text-reset"},{default:x(()=>[o("button",W,u(s.section),1)]),_:2},1032,["to"])),o("div",Y,u(s.date),1)])]),o("div",Z,[o("div",ee,u(s.description),1)])]))),128)),e.pageStatus.endPage>e.pageStatus.startPage?(l(),c("ul",te,[o("li",{class:k(["relative block py-2 px-3 leading-tight bg-white border border-gray-300 text-gray-700 border-r-0 ml-0 rounded-l hover:bg-gray-200",e.currentPage==e.pageStatus.startPage?"active":""]),onClick:t[0]||(t[0]=s=>e.currentPage=e.pageStatus.startPage)},[o("a",se,u(e.pageStatus.startPage),1)],2),(l(!0),c(v,null,y(e.pageStatus.midPages,(s,g)=>(l(),c("li",{key:g,class:k(["relative block py-2 px-3 leading-tight bg-white border border-gray-300 text-gray-700 border-r-0 hover:bg-gray-200",e.currentPage==s?"active":""]),onClick:m=>e.currentPage=s},[o("a",ae,u(s),1)],10,oe))),128)),o("li",{class:k(["relative block py-2 px-3 leading-tight bg-white border border-gray-300 text-gray-700 rounded-r hover:bg-gray-200",e.currentPage==e.pageStatus.endPage?"active":""]),onClick:t[1]||(t[1]=s=>e.currentPage=e.pageStatus.endPage)},[o("a",ne,u(e.pageStatus.endPage),1)],2)])):h("",!0)])])],64)}var le=S(L,[["render",re],["__scopeId","data-v-3bcd2b86"]]);export{le as default};
