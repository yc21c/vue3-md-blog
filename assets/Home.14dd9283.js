import{_ as S,r as b,o as l,c,a as f,d as E,P as w,i as $,b as A,e as M,t as R,f as a,g as P,h as u,F as v,j as y,n as k,k as B,w as x,l as O,m as V}from"./index.587ae1bc.js";const I={},T={class:"text-center my-5"};function U(e,t){const o=b("router-link");return l(),c("div",T,[f(o,{to:"/",class:"text-reset"})])}var L=S(I,[["render",U]]);const N=(e,t=1,o=10,d=10)=>{const n=Math.ceil(e/o);t<1?t=1:t>n&&(t=n);let r,i;if(n<=d)r=1,i=n;else{const g=Math.floor(d/2),m=Math.ceil(d/2)-1;t<=g?(r=1,i=d):t+m>=n?(r=n-d+1,i=n):(r=t-g,i=t+m)}const _=(t-1)*o,p=Math.min(_+o-1,e-1),s=Array.from(Array(i+1-r).keys()).map(g=>r+g);return{totalItems:e,currentPage:t,pageSize:o,totalPages:n,startPage:r,endPage:i,startIndex:_,endIndex:p,pages:s}};var H={VUE_APP_POSTS_PER_PAGE:5,REPO_ASSET_URL:"https://raw.githubusercontent.com/yc21c/vue3-md-blog/master/src/assets/",VUE_APP_MAIN_BG_CSS_COLOR:"white",VUE_APP_MAIN_TEXT_CSS_COLOR:"black"};const{VUE_APP_POSTS_PER_PAGE:j,REPO_ASSET_URL:G}=H,F=E({components:{PatchMeta:w,BlogHeader:L},props:{section:{type:String,default:""}},setup(e){const t=$("postsIndex",[]),o=A({currentPage:1}),d=M(()=>{const n=e.section?t.filter(({section:h})=>h===e.section):t,{startPage:r,endPage:i,startIndex:_,endIndex:p}=N(n.length,o.currentPage,j),s=o.currentPage-1>=r?o.currentPage-1:0,g=o.currentPage+1<=i?o.currentPage+1:0,m=[s,o.currentPage,g].filter(h=>h>r&&h<i),C=n.slice(_,p+1);return{startPage:r,midPages:m,endPage:i,visiblePosts:C}});return{...R(o),pageStatus:d,REPO_ASSET_URL:G}}}),D={class:"max-w-5xl mx-auto px-4 sm:px-6 md:px-8"},X={class:"container px-4 mx-auto mt-8"},q={key:0},z={key:1,class:"text-center display-4 text-capitalize my-5"},J={class:"flex w-full items-center justify-between pb-1"},K={class:"flex items-center space-x-3"},Q={class:"text-xl font-normal text-slate-700"},W={class:"flex items-center space-x-8"},Y={class:"rounded-2xl border bg-neutral-100 px-3 py-1 text-xs font-semibold"},Z={class:"text-xs text-neutral-500"},ee={class:"mt-6 mb-2"},te={class:"text-sm text-neutral-600"},se={key:2,class:"flex pl-0 list-none rounded my-2 pagination",style:{cursor:"pointer"}},ae={class:"page-link"},oe=["onClick"],ne={class:"page-link"},re={class:"page-link",href:"#"};function ie(e,t,o,d,n,r){const i=b("PatchMeta"),_=b("BlogHeader"),p=b("router-link");return l(),c(v,null,[f(i,{title:e.section?e.section:"Minimal Vue3 + Markdown blog engine"},null,8,["title"]),a("div",D,[a("div",X,[f(_,{class:"mb-5"}),e.section?(l(),c("hr",q)):P("",!0),e.section?(l(),c("p",z,u(e.section),1)):P("",!0),(l(!0),c(v,null,y(e.pageStatus.visiblePosts,s=>(l(),c("div",{key:s.id,class:"rounded-sm border p-5 mb-6 shadow-sm w-full bg-white"},[a("div",J,[a("div",K,[a("div",{class:"h-8 w-8 rounded-full bg-slate-400 bg-cover bg-center",style:B({backgroundImage:`url('${e.REPO_ASSET_URL}${s.section}-logo.png')`})},null,4),a("div",Q,[f(p,{to:`/${s.section}/${s.id}`,class:"text-reset"},{default:x(()=>[O(u(s.title),1)]),_:2},1032,["to"])])]),a("div",W,[e.section?P("",!0):(l(),V(p,{key:0,to:`/${s.section}`,class:"text-reset"},{default:x(()=>[a("button",Y,u(s.section),1)]),_:2},1032,["to"])),a("div",Z,u(s.date),1)])]),a("div",ee,[a("div",te,u(s.description),1)])]))),128)),e.pageStatus.endPage>e.pageStatus.startPage?(l(),c("ul",se,[a("li",{class:k(["relative block py-2 px-3 leading-tight bg-white border border-gray-300 text-gray-700 border-r-0 ml-0 rounded-l hover:bg-gray-200",e.currentPage==e.pageStatus.startPage?"active":""]),onClick:t[0]||(t[0]=s=>e.currentPage=e.pageStatus.startPage)},[a("a",ae,u(e.pageStatus.startPage),1)],2),(l(!0),c(v,null,y(e.pageStatus.midPages,(s,g)=>(l(),c("li",{key:g,class:k(["relative block py-2 px-3 leading-tight bg-white border border-gray-300 text-gray-700 border-r-0 hover:bg-gray-200",e.currentPage==s?"active":""]),onClick:m=>e.currentPage=s},[a("a",ne,u(s),1)],10,oe))),128)),a("li",{class:k(["relative block py-2 px-3 leading-tight bg-white border border-gray-300 text-gray-700 rounded-r hover:bg-gray-200",e.currentPage==e.pageStatus.endPage?"active":""]),onClick:t[1]||(t[1]=s=>e.currentPage=e.pageStatus.endPage)},[a("a",re,u(e.pageStatus.endPage),1)],2)])):P("",!0)])])],64)}var ce=S(F,[["render",ie],["__scopeId","data-v-6c76c70c"]]);export{ce as default};
